<app-navbar></app-navbar>
<div class="container">
	<div class="container__data">
		<h1 class="container__data__title">Lista de vehículos</h1>
		<div class="filter-and-table-container">
			<mat-form-field class="filter">
				<mat-label>Filtro</mat-label>
				<input matInput (keyup)="applyFilter($event)" placeholder="Finalizado" #input autocomplete="off">
			  </mat-form-field>
		<table mat-table [dataSource]="Vehicles" class="mat-elevation-z8 container__data__table" matSort>
			<ng-container matColumnDef="patent">
				<th mat-header-cell *matHeaderCellDef mat-sort-header > Patente </th>
				<td mat-cell *matCellDef="let vehicle"> {{vehicle.patent}} </td>
			</ng-container>

			<ng-container matColumnDef="description">
				<th mat-header-cell *matHeaderCellDef mat-sort-header > Descripción </th>
				<td mat-cell *matCellDef="let vehicle"> {{vehicle.description}} </td>
			</ng-container>

			<ng-container matColumnDef="model">
				<th mat-header-cell *matHeaderCellDef mat-sort-header> Modelo </th>
				<td mat-cell *matCellDef="let vehicle"> {{vehicle.model}} </td>
			</ng-container>

			<ng-container matColumnDef="buyDate">
				<th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha de compra </th>
				<td mat-cell *matCellDef="let vehicle"> {{vehicle.buyDate | date:'dd/MM/yyyy'}} </td>
			</ng-container>

			<ng-container matColumnDef="options">
					<th mat-header-cell *matHeaderCellDef> Opciones </th>
					<td mat-cell *matCellDef="let vehicle">
						<mat-icon (click)="editVehicle(vehicle)" class="icon">edit</mat-icon>
						<mat-icon (click)="notifyMaintenance(vehicle)" class="icon">construction</mat-icon> 
						<mat-icon (click)="deleteVehicle(vehicle.id)" class="icon" color="warn">delete</mat-icon>
					</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
		</table>
	
		<mat-paginator class="mat-paginator" [length]="100"
		[pageSize]="10"
		[pageSizeOptions]="[1,2,3,100]"
		aria-label="Select page">
		</mat-paginator>
	</div>
		<button mat-raised-button color="primary" (click)="addVehicle()" class="container__data__add-button">Agregar nuevo vehículo</button>
	</div>
</div>